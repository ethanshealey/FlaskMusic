{% extends "base.html" %}

{% block content %}


<!-- Banner -->

<section id="banner">
    <div class="content">
        <header>
            <h1>Flask Music</h1>
            <p>A music player built using Python Flask and MySQL</p>
        </header>
        <ul class="actions">
            <li><a href="https://www.github.com/ethanshealey/FlaskMusic" class="button big">Learn More</a></li>
        </ul>
    </div>
    
</section>

<!-- Section -->
<section>
    <header class="major">
        <h2>Recently Added Songs</h2>
    </header>
    <div class="row">
    <div class="col-4 col-12-medium">
        <!--

            MUSIC PLAYER FROM:

            https://codepen.io/abxlfazl/pen/YzGEVRP

        -->
        <div class="player">
            <div class="player__header">
              <div class="player__img player__img--absolute slider">
                <button class="player__button player__button--absolute--nw playlist">
                  <img src="http://physical-authority.surge.sh/imgs/icon/playlist.svg" alt="playlist-icon">
                </button>
                <button class="player__button player__button--absolute--center play">
                  <img src="http://physical-authority.surge.sh/imgs/icon/play.svg" alt="play-icon">
                  <img src="http://physical-authority.surge.sh/imgs/icon/pause.svg" alt="pause-icon">
                </button>
                <div class="slider__content">
                    {% for song in songs %}
                    <img class="img slider__img" src="{{url_for('static', filename=song.song_album_art)}}" alt="cover">
                    {% endfor %}
                </div>
              </div>
              <div class="player__controls">
                <button class="player__button back">
                  <img class="img" src="http://physical-authority.surge.sh/imgs/icon/back.svg" alt="back-icon">
                </button>
                <p class="player__context slider__context">
                  <strong class="slider__name"></strong>
                  <span class="player__title slider__title"></span>
                </p>
                <button class="player__button next">
                  <img class="img" src="http://physical-authority.surge.sh/imgs/icon/next.svg" alt="next-icon">
                </button>
                <div class="progres">
                  <div class="progres__filled"></div>
                </div>
              </div>
            </div>
            <ul class="player__playlist list">
              {% for song in songs %}
              <li class="player__song">
                <img class="player__img img" src="{{url_for('static', filename=song.song_album_art)}}" alt="cover">
                <p class="player__context">
                  <b class="player__song-name">{{song.song_name}}</b>
                  <span class="flex">
                    <span class="player__title">{{song.song_artist}}</span>
                    <span class="player__song-time"></span>
                  </span>
                </p>
                <audio class="audio" src="{{url_for('static', filename=song.song_path)}}"></audio>
              </li>
              {% endfor %}
            </ul>
          </div>
    </div>
    <div class="col-4 col-12-medium"></div>
    </div>
</section>

</div>
</div>

<script src="{{url_for('static', filename='js/musicplayer.js')}}"></script>

{% endblock %}